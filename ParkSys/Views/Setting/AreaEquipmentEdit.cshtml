@model Model.AreaAndEqu
@{
    ViewBag.Title = "AreaEquipmentEdit";
    var area = DAL.AreaSvr.Instance.GetList();
    var equipment = DAL.EquipmentSvr.Instance.GetList();
}

<form class="form-horizontal form-label-left" novalidate action="/Setting/AreaEquipmentEdit" method="post">
    @if (Model != null)
    {
        <span class="section">区域设备绑定修改</span>
        <div class="item form-group">
            <label class="control-label col-md-3 col-sm-3 col-xs-12" for="email">
                编号 <span class="required">*</span>
            </label>
            <div class="col-md-6 col-sm-6 col-xs-12">
                <input name="Id" value="@Model.Id" readonly="readonly" required="required" class="form-control col-md-7 col-xs-12">
            </div>
        </div>
        <div class="item form-group">
            <label class="control-label col-md-3 col-sm-3 col-xs-12" for="email">
                区域名称 <span class="required">*</span>
            </label>
            <div class="col-md-6 col-sm-6 col-xs-12">
                <select name="AreaId" required="required" data-validate-minmax="10,100" class="form-control col-md-7 col-xs-12">
                    @foreach (var item in area)
                    {
                        if (item.AreaId == Model.AreaId)
                        {
                            <option value="@item.AreaId" selected="selected">@item.AreaName</option>
                        }
                        else
                        {
                            <option value="@item.AreaId">@item.AreaName</option>
                        }

                    }
                </select>
            </div>
        </div>
        <div class="item form-group">
            <label class="control-label col-md-3 col-sm-3 col-xs-12" for="email">
                设备名称 <span class="required">*</span>
            </label>
            <div class="col-md-6 col-sm-6 col-xs-12">
                <select name="EquipmentId" required="required" data-validate-minmax="10,100" class="form-control col-md-7 col-xs-12">
                    @foreach (var item in equipment)
                    {
                        if (item.EquipmentId == Model.EquipmentId)
                        {
                            <option value="@item.EquipmentId" selected="selected">@item.EquipmentName</option>
                        }
                        else
                        {
                            <option value="@item.EquipmentId">@item.EquipmentName</option>
                        }

                    }
                </select>
            </div>
        </div>
        <div class="item form-group">
            <label class="control-label col-md-3 col-sm-3 col-xs-12" for="number">
                状态 <span class="required">*</span>
            </label>
            <div class="col-md-6 col-sm-6 col-xs-12">
                <select name="State" required="required" data-validate-minmax="10,100" class="form-control col-md-7 col-xs-12">
                    @if (Model.State == "出")
                    {
                        <option value="出" selected="selected">出</option>
                        <option value="入">入</option>
                    }
                    else
                    {
                        <option value="出">出</option>
                        <option value="入" selected="selected">入</option>
                    }
                </select>
            </div>
        </div>
    }
    else
    {
        <span class="section">区域设备绑定添加</span>
        <div class="item form-group">
            <label class="control-label col-md-3 col-sm-3 col-xs-12" for="email">
                区域名称 <span class="required">*</span>
            </label>
            <div class="col-md-6 col-sm-6 col-xs-12">
                <select name="AreaId" required="required" data-validate-minmax="10,100" class="form-control col-md-7 col-xs-12">
                    @foreach (var item in area)
                    {
                        <option value="@item.AreaId">@item.AreaName</option>
                    }
                </select>
            </div>
        </div>
        <div class="item form-group">
            <label class="control-label col-md-3 col-sm-3 col-xs-12" for="email">
                设备名称 <span class="required">*</span>
            </label>
            <div class="col-md-6 col-sm-6 col-xs-12">
                <select name="EquipmentId" required="required" data-validate-minmax="10,100" class="form-control col-md-7 col-xs-12">
                    @foreach (var item in equipment)
                    {
                        <option value="@item.EquipmentId">@item.EquipmentName</option>
                    }
                </select>
            </div>
        </div>
        <div class="item form-group">
            <label class="control-label col-md-3 col-sm-3 col-xs-12" for="number">
                状态 <span class="required">*</span>
            </label>
            <div class="col-md-6 col-sm-6 col-xs-12">
                <select name="State" required="required" data-validate-minmax="10,100" class="form-control col-md-7 col-xs-12">
                    <option value="出">出</option>
                    <option value="入">入</option>
                </select>
            </div>
        </div>
    }


    <div class="ln_solid"></div>
    <div class="form-group">
        <div class="col-md-6 col-md-offset-3">
            <button type="button" onclick="history.go(-1)" class="btn btn-primary">取消</button>
            <button id="send" type="submit" class="btn btn-success">保存</button>
        </div>
    </div>
</form>
